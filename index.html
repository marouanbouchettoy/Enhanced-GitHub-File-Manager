<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🚀 Enhanced GitHub File Manager</title>
    <link rel="stylesheet" href="style.css">
    <script src="main.js" defer></script>
</head>

<body>
    <div class="container">
        <h2>🚀 Enhanced GitHub File Manager</h2>
        <div class="main-content">
            <div class="left-column">
                <div class="section config-section">
                    <h3>🔧 GitHub Configuration</h3>
                    <div class="form-group">
                        <label for="globalToken">GitHub Token (Personal Access Token):</label>
                        <input type="password" id="globalToken"
                            placeholder="This token will be used for all operations">
                    </div>
                    <div class="form-group">
                        <label for="globalOwner">GitHub Owner (Username/Organization):</label>
                        <input type="text" id="globalOwner">
                    </div>
                    <div class="form-group">
                        <label for="globalRepo">GitHub Repository:</label>
                        <input type="text" id="globalRepo">
                    </div>
                </div>

                <div class="tabs">
                    <div class="tab active" onclick="switchTab('upload')">📤 Upload Files</div>
                    <div class="tab" onclick="switchTab('read')">📖 Read File</div>
                    <div class="tab" onclick="switchTab('manage')">📁 Manage Files</div>
                </div>

                <div id="upload" class="tab-content active">
                    <div class="section">
                        <h3>📤 Upload Files/Directory</h3>
                        <form id="uploadForm">
                            <div class="form-group">
                                <label for="basePath">Base Directory Path in Repository (optional):</label>
                                <input type="text" id="basePath" placeholder="Leave empty to upload to repository root">
                            </div>
                            <div class="form-group">
                                <label for="commitMessage">Commit Message:</label>
                                <input type="text" id="commitMessage">
                            </div>
                            <div class="form-group">
                                <label for="labels">Labels (comma-separated, optional):</label>
                                <input type="text" id="labels">
                            </div>
                            <div class="form-group">
                                <label for="uploadType">Upload Type:</label>
                                <select id="uploadType" onchange="toggleFileInput()">
                                    <option value="files">Select Multiple Files</option>
                                    <option value="directory">Select Entire Directory</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label id="fileInputLabel" for="fileInput">Select Files:</label>
                                <input type="file" id="fileInput" multiple>
                            </div>
                            <div id="filePreview" class="file-preview" style="display: none;">
                                <strong>Selected Files:</strong>
                                <div id="fileList"></div>
                            </div>
                            <button type="submit" id="uploadBtn">🚀 Upload to GitHub</button>
                        </form>
                    </div>
                </div>

                <div id="read" class="tab-content">
                    <div class="section">
                        <h3>📖 Read File from GitHub</h3>
                        <form id="readForm">
                            <div class="form-group">
                                <label for="readPath">File Path to Read:</label>
                                <input type="text" id="readPath">
                            </div>
                            <button type="submit">📖 Read File</button>
                        </form>
                    </div>
                </div>

                <div id="manage" class="tab-content">
                    <div class="section">
                        <h3>📁 Repository File Management</h3>
                        <button onclick="listRepositoryFiles()">📋 List All Files</button>
                        <div id="fileTree" style="margin-top: 15px;"></div>
                    </div>
                </div>
            </div>

            <div class="right-column">
                <div class="section console-section">
                    <h3>📋 Output Console</h3>
                    <div style="text-align: right; margin-bottom: 10px;">
                        <button onclick="clearConsole()">🗑️ Clear Console</button>
                    </div>
                    <div id="output">Ready to upload files to GitHub...</div>
                    <div class="instructions file-info">
                        <strong>🔍 Instructions:</strong>
                        <p>1. Fill in your GitHub configuration above<br>
                            2. Choose upload type (files or directory)<br>
                            3. Select your files/directory<br>
                            4. Click upload!</p>
                        <strong>💡 Tips:</strong>
                        <p>- Use directory upload to maintain folder structure<br>
                            - Base path helps organize files in your repo<br>
                            - Labels are added to commit message for better tracking</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>